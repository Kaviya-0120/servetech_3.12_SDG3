<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediFlow - Queue Optimizer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Icons (Optional placeholder, using unicode in CSS/HTML for simplicity if font awesome not loaded) -->
</head>

<body>

    <!-- Mobile Toggle -->
    <button class="mobile-toggle" onclick="toggleSidebar()">â˜°</button>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="brand">
            ğŸ¥ MediFlow
        </div>
        <ul class="nav-links">
            <li><a href="{{ url_for('home') }}" class="{{ 'active' if page == 'home' else '' }}"><span
                        class="nav-icon">ğŸ“</span> Patient Intake</a></li>

            {% if session.get('user_type') == 'admin' %}
            <li><a href="{{ url_for('dashboard') }}" class="{{ 'active' if page == 'dashboard' else '' }}"><span
                        class="nav-icon">ğŸ“Š</span> Dashboard</a></li>
            <li><a href="{{ url_for('queue') }}" class="{{ 'active' if page == 'queue' else '' }}"><span
                        class="nav-icon">ğŸ“‹</span> Priority Queue</a></li>
            <li><a href="{{ url_for('analytics') }}" class="{{ 'active' if page == 'analytics' else '' }}"><span
                        class="nav-icon">ğŸ“ˆ</span> Analytics</a></li>
            <li><a href="{{ url_for('settings') }}" class="{{ 'active' if page == 'settings' else '' }}"><span
                        class="nav-icon">âš™ï¸</span> Settings</a></li>
            <li><a href="{{ url_for('logout') }}"><span class="nav-icon">ğŸšª</span> Logout</a></li>
            {% else %}
            <li><a href="{{ url_for('login') }}" class="{{ 'active' if page == 'login' else '' }}"><span
                        class="nav-icon">ğŸ”</span> Admin Login</a></li>
            {% endif %}
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="card" style="background: #fff3f3; color: #d63031; padding: 1rem; margin-bottom: 2rem;">
            {% for message in messages %}
            {{ message }}
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }
    </script>
</body>

</html>